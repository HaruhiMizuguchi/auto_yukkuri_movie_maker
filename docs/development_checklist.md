# 開発チェックリスト - 統合テスト忘れ防止

## 🎯 新機能開発完了チェックリスト

### ✅ Phase 1: 単体テスト開発段階
- [ ] テストファイル作成 (`tests/unit/test_*.py`)
- [ ] TDD サイクル実行 (Red → Green → Refactor)
- [ ] 単体テストカバレッジ 80% 以上達成
- [ ] すべての単体テスト PASS 確認
- [ ] コードレビュー実施

### ⚡ Phase 2: 統合テスト追加段階（必須）
- [ ] **統合テストファイル作成** (`tests/integration/test_*_integration.py`)
- [ ] 実環境での動作確認
- [ ] 外部依存関係テスト
- [ ] データベース制約チェック
- [ ] ファイルシステム操作確認
- [ ] 境界問題発見・修正
- [ ] 統合テスト PASS 確認

### 🔍 境界問題チェック項目
- [ ] データベース制約 (CHECK, FOREIGN KEY)
- [ ] 型整合性 (str vs Path, int vs float)
- [ ] 設定値バリデーション
- [ ] API レスポンス形式
- [ ] エラーハンドリング
- [ ] リソース解放

### 📝 完了基準
- [ ] 単体テスト: 100% PASS
- [ ] 統合テスト: 100% PASS  
- [ ] 境界問題: 0件
- [ ] コードカバレッジ: 80%以上
- [ ] ドキュメント更新完了

## 🚫 よくある忘れがちな項目

### ❌ 統合テスト忘れを防ぐ
```bash
# 開発完了時に必ず実行
python -m pytest tests/unit/test_new_feature.py -v    # 単体テスト
python -m pytest tests/integration/ -v               # 統合テスト

# 両方通らないと開発未完了
```

### ❌ 境界問題見逃しを防ぐ
```python
# 統合テスト作成時のテンプレート
def test_new_feature_integration(self):
    """新機能の統合テスト - 境界問題チェック"""
    
    # 1. データベース制約チェック
    # 2. 型整合性チェック  
    # 3. 設定値チェック
    # 4. エラーハンドリングチェック
    # 5. リソース解放チェック
    
    pass
```

## 📋 開発フロー（推奨継続）

```
1. 単体テスト作成・実装
   ↓
2. 単体テスト 100% PASS確認  
   ↓
3. 統合テスト作成（必須）
   ↓
4. 統合テスト実行・境界問題発見
   ↓  
5. 境界問題修正
   ↓
6. 全テスト PASS確認
   ↓
7. 開発完了・コミット
```

**重要**: 統合テストを追加せずに開発完了とは見なさない 